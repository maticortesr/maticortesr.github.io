<!DOCTYPE html>
<html lang="en">

  <head>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-120795861-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Matias Cortes">
    <meta name="description" content="Matias Cortes&#39; personal website">
    <meta name="keywords" content="blog,developer,personal">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Analytics on Table Tennis Equipment Part 2: Recomendation Engine"/>
<meta name="twitter:description" content="After creating a text classifier on Part 1 of this series of analysis on Table Tennis equipment, there is another aspect of choosing equipment that is tricky: making sense of all the specs of rubbers. Luckily, Revspin.net has user-generated data we can use for this. Characteristics like Speed, Spin, Control, Gears, Tackyness are rated from 1 to 10 for a big number of rubbers. The issue with this is that is very hard to make sense of all those numbers, Revspin does not offer a comparison tool currently, and even if it did, typical 1-to-1 comparison toolsfall short when you want to find similar products."/>

    <meta property="og:title" content="Analytics on Table Tennis Equipment Part 2: Recomendation Engine" />
<meta property="og:description" content="After creating a text classifier on Part 1 of this series of analysis on Table Tennis equipment, there is another aspect of choosing equipment that is tricky: making sense of all the specs of rubbers. Luckily, Revspin.net has user-generated data we can use for this. Characteristics like Speed, Spin, Control, Gears, Tackyness are rated from 1 to 10 for a big number of rubbers. The issue with this is that is very hard to make sense of all those numbers, Revspin does not offer a comparison tool currently, and even if it did, typical 1-to-1 comparison toolsfall short when you want to find similar products." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.matiascortes.com/posts/table-tennis-equipment-recomendation/" />
<meta property="article:published_time" content="2020-05-21T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-21T00:00:00+00:00" />


    
      <base href="https://www.matiascortes.com/posts/table-tennis-equipment-recomendation/">
    
    <title>
  Analytics on Table Tennis Equipment Part 2: Recomendation Engine · Matias Cortes
</title>

    
      <link rel="canonical" href="https://www.matiascortes.com/posts/table-tennis-equipment-recomendation/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://www.matiascortes.com/css/coder.min.2e86db91df959a80fb957bb8b65cdd41daa72810084f81573a0828889ca53231.css" integrity="sha256-Lobbkd&#43;VmoD7lXu4tlzdQdqnKBAIT4FXOggoiJylMjE=" crossorigin="anonymous" media="screen" />
    

    

    

    
      <link rel="stylesheet" href="https://www.matiascortes.com/css/custom.css" />
    

    

    

    <link rel="icon" type="image/png" href="https://www.matiascortes.com/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://www.matiascortes.com/img/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.79.0" />
  </head>

  
  
  <body class="colorscheme-light">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://www.matiascortes.com/">
      Matias Cortes
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.matiascortes.com/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.matiascortes.com/portfolio/">Portfolio</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.matiascortes.com/about/">About</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Analytics on Table Tennis Equipment Part 2: Recomendation Engine</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-05-21T00:00:00Z'>
                May 21, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              25-minute read
            </span>
          </div>
          
          
        </div>
      </header>

      <div>
        
        <p>After creating a text classifier on <a href="https://www.matiascortes.com/posts/table-tennis-equipment-text-classification/">Part 1</a> of this series of analysis on Table Tennis equipment, there is another aspect of choosing equipment that is tricky: making sense of all the specs of rubbers. Luckily, Revspin.net has user-generated data we can use for this. Characteristics like Speed, Spin, Control, Gears, Tackyness are rated from 1 to 10 for a big number of rubbers. The issue with this is that is very hard to make sense of all those numbers, Revspin does not offer a comparison tool currently, and even if it did, typical 1-to-1 comparison toolsfall short when you want to find similar products.</p>
<p>With the goeal of making product discovery and recomendation easier, I analysed data from the Top 100 rated rubbers on Revspin to build a recomendation tool using unsupervised learning techniques. Let&rsquo;s jump to the code!</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data = pd.read_csv(<span style="color:#0ff;font-weight:bold">&#39;top100 rubbers by overall score.csv&#39;</span>)
data.head()
</code></pre></div><div style="overflow-x:auto;">
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
    .dataframe tbody tr th {
        vertical-align: top;
    }
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rubber</th>
      <th>Speed</th>
      <th>Spin</th>
      <th>Control</th>
      <th>Tacky</th>
      <th>Weight</th>
      <th>Sponge Hardness</th>
      <th>Gears</th>
      <th>Throw Angle</th>
      <th>Consistency</th>
      <th>Durable</th>
      <th>Overall</th>
      <th>Ratings</th>
      <th>Estimated Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Donic Bluestorm Z1 Turbo</td>
      <td>9.4</td>
      <td>9.7</td>
      <td>8.5</td>
      <td>1.2</td>
      <td>6.0</td>
      <td>8.8</td>
      <td>9.4</td>
      <td>4.4</td>
      <td>10.0</td>
      <td>7.8</td>
      <td>9.6</td>
      <td>6</td>
      <td>$ 52.00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Tibhar Aurus TC-1</td>
      <td>8.9</td>
      <td>9.6</td>
      <td>9.4</td>
      <td>2.0</td>
      <td>4.4</td>
      <td>3.2</td>
      <td>10.0</td>
      <td>5.2</td>
      <td>10.0</td>
      <td>9.0</td>
      <td>9.5</td>
      <td>5</td>
      <td>$ 28.00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Xiom Omega VII Tour</td>
      <td>9.6</td>
      <td>9.3</td>
      <td>8.4</td>
      <td>1.9</td>
      <td>7.5</td>
      <td>8.3</td>
      <td>9.1</td>
      <td>6.0</td>
      <td>10.0</td>
      <td>7.8</td>
      <td>9.5</td>
      <td>15</td>
      <td>$ 74.00</td>
    </tr>
    <tr>
      <th>3</th>
      <td>DHS Gold Arc 8</td>
      <td>9.4</td>
      <td>9.4</td>
      <td>9.2</td>
      <td>2.1</td>
      <td>5.8</td>
      <td>6.8</td>
      <td>8.8</td>
      <td>5.7</td>
      <td>9.6</td>
      <td>8.8</td>
      <td>9.5</td>
      <td>100</td>
      <td>$ 46.00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adidas Tenzone Ultra</td>
      <td>9.3</td>
      <td>9.5</td>
      <td>9.0</td>
      <td>2.3</td>
      <td>5.3</td>
      <td>7.2</td>
      <td>8.6</td>
      <td>6.5</td>
      <td>9.7</td>
      <td>8.6</td>
      <td>9.5</td>
      <td>18</td>
      <td>$ 50.00</td>
    </tr>
  </tbody>
</table>
</div>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data.dtypes
</code></pre></div><pre><code>Rubber              object
Speed              float64
Spin               float64
Control            float64
Tacky              float64
Weight             float64
Sponge Hardness    float64
Gears              float64
Throw Angle        float64
Consistency        float64
Durable            float64
Overall            float64
Ratings              int64
Estimated Price     object
dtype: object
</code></pre>
<h3 id="initial-exploration-and-clustering">Initial Exploration and clustering</h3>
<p>We can use pair plots to explore posible clusters in the data, next I run pair plots only for Speed, Spin and Control to keep it manageable. They are also the most important aspects on a rubber so it&rsquo;s all good.</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#fff;font-weight:bold">import</span> seaborn <span style="color:#fff;font-weight:bold">as</span> sns
sns.pairplot(data[[<span style="color:#0ff;font-weight:bold">&#39;Speed&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;Spin&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;Control&#39;</span>]])
</code></pre></div><pre><code>&lt;seaborn.axisgrid.PairGrid at 0x7fbe945e9f10&gt;
</code></pre>
<p><img src="https://www.matiascortes.com/images/Rubber_Clustering_files/output_5_1.png" alt="png"></p>
<p>Below is an initial clustering using Speed vs Spin</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">kmeans = cluster.KMeans(<span style="color:#ff0;font-weight:bold">8</span>)
kmeans.fit(data[[<span style="color:#0ff;font-weight:bold">&#39;Speed&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;Spin&#39;</span>]])
labels = kmeans.labels_

fig = px.scatter(data, x=<span style="color:#0ff;font-weight:bold">&#34;Speed&#34;</span>, y=<span style="color:#0ff;font-weight:bold">&#34;Spin&#34;</span>,
                 color=labels, hover_data=[<span style="color:#0ff;font-weight:bold">&#39;Rubber&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;Estimated Price&#39;</span>], title=<span style="color:#0ff;font-weight:bold">&#39;Speed vs Spin&#39;</span>)
fig.show()
</code></pre></div><div>
<script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<div id="cfcceedd-b04f-40de-9af9-556de524ee44" class="plotly-graph-div" style="height:100%; width:100%;"></div>
<script type="text/javascript">
            window.PLOTLYENV=window.PLOTLYENV || {};                  
            if (document.getElementById("cfcceedd-b04f-40de-9af9-556de524ee44")) {
                    Plotly.newPlot(
                        'cfcceedd-b04f-40de-9af9-556de524ee44',
                        [{"customdata": [["Donic Bluestorm Z1 Turbo", "$ 52.00 "], ["Tibhar Aurus TC-1", "$ 28.00 "], ["Xiom Omega VII Tour", "$ 74.00 "], ["DHS Gold Arc 8", "$ 46.00 "], ["Adidas Tenzone Ultra", "$ 50.00 "], ["Andro Rasant Grip", "$ 53.00 "], ["Andro Hexer Powergrip", "$ 44.00 "], ["Gewo Flexxon", "$ 58.00 "], ["DHS Hurricane 3 National (Blue Sponge)", "$ 92.00 "], ["Andro Rasant", "$ 57.00 "], ["Butterfly Dignics 80", "$ 100.00 "], ["Victas VJ > 07 Stiff", "$ 42.00 "], ["Tibhar Nianmor", "$ 55.00 "], ["Xiom Sigma II Euro", "$ 45.00 "], ["Xiom Vega X", "$ 35.00 "], ["Xiom Omega IV Asia", "$ 49.00 "], ["Victas V > 01 Limber", "$ 42.00 "], ["TSP Super Ventus", "$ 40.00 "], ["Yasaka Rakza 7", "$ 38.00 "], ["Victas VS > 402 Double Extra", "$ 35.00 "], ["JOOLA MAXXX-P", "$ 46.00 "], ["Gewo Proton Neo 450", "$ 40.00 "], ["Yasaka Rakza 9", "$ 53.00 "], ["Gewo NanoFlex FT48", "$ 55.00 "], ["Tibhar Evolution MX-S", "$ 50.00 "], ["Adidas P7", "$ 50.00 "], ["Andro Rasanter R50", "$ 50.00 "], ["Tibhar Evolution MX-P 50", "$ 49.00 "], ["Donic Acuda Blue P2", "$ 54.00 "], ["Andro Rasant PowerGrip", "$ 56.00 "], ["Xiom Omega 3 Asian", "$ 50.00 "], ["Butterfly Tenergy 80", "$ 68.00 "], ["Gewo NanoFLEX FT40", "$ 60.00 "], ["Gewo Neoflexx EFT 45", "$ 0.00 "], ["Killerspin Fortissimo", "$ 52.00 "], ["TSP Ventus Spin", "$ 48.00 "], ["Butterfly Tenergy 25 FX", "$ 78.00 "], ["Tibhar Grip-S", "$ 45.00 "], ["DHS Gold Arc 3", "$ 39.00 "], ["Gewo Proton Neo 325", "$ 42.00 "], ["TSP Ventus Soft", "$ 42.00 "], ["Yasaka Mark V HPS", "$ 45.00 "], ["JOOLA Maxxx 500", "$ 41.00 "], ["Yasaka Valmo", "$ 45.00 "], ["Andro Rasant Turbo", "$ 43.00 "], ["DHS Gold Arc 5", "$ 25.00 "], ["Tibhar Aurus Prime", "$ 44.00 "], ["Xiom Sigma 1 Euro", "$ 85.00 "], ["Donic Acuda Blue P1", "$ 44.00 "], ["Andro Plasma Women", "$ 37.00 "], ["Gewo Neoflexx EFT 40", "$ 0.00 "], ["Tibhar Grip-S Europe Soft", "$ 45.00 "], ["Gewo Nexxus EL Pro 50 Hard", "$ 49.00 "], ["Xiom Omega V Asia", "$ 40.00 "], ["JOOLA Rhyzm-P", "$ 40.00 "], ["Tibhar 1Q XD", "$ 55.00 "], ["Gewo Mega Flex Control", "$ 35.00 "], ["Victas V > 01 Stiff", "$ 51.00 "], ["Donic Bluefire M1 Turbo", "$ 54.00 "], ["Gewo Nexxus XT Pro 50 Hard", "$ 60.00 "], ["DHS Hurricane 3 Provincial (No. 22 Blue Sponge)", "$ 65.00 "], ["Tibhar Genius Sound", "$ 46.00 "], ["Xiom Omega IV Pro", "$ 60.00 "], ["Gewo Neoflexx EFT 48", "$ 32.00 "], ["Nittaku Hurricane Pro III Turbo Blue", "$ 45.00 "], ["Gewo Proton Neo 475", "$ 0.00 "], ["DHS NEO Hurricane 3 National (Blue Sponge)", "$ 90.00 "], ["Nittaku Fastarc G-1", "$ 44.00 "], ["Gewo NanoFLEX FT45", "$ 45.00 "], ["Donic J.O. Waldner", "$ 37.00 "], ["Tibhar 5Q Update", "$ 58.00 "], ["Andro Rasanter R53", "$ 45.00 "], ["Tibhar Rapid X-Press", "$ 44.00 "], ["Haifu White Shark II (2) (Tuned)", "$ 26.00 "], ["Xiom Omega IV Euro", "$ 50.00 "], ["Andro Rasanter R47", "$ 47.00 "], ["Andro Rasanter R42", "$ 38.00 "], ["Tibhar 5Q", "$ 53.00 "], ["TSP Regalis Red", "$ 40.00 "], ["Tibhar Evolution EL-P", "$ 58.00 "], ["Tibhar Evolution MX-P", "$ 33.00 "], ["Palio Aeolus", "$ 45.00 "], ["Gewo Proton Neo 375", "$ 42.00 "], ["Yasaka Mark V GPS Soft", "$ 35.00 "], ["Xiom Omega VII Asia", "$ 53.00 "], ["Tibhar Quantum S", "$ 65.00 "], ["Yasaka Xtend HS", "$ 44.00 "], ["Gewo Nexxus EL Pro 43", "$ 45.00 "], ["Butterfly Tenergy 25", "$ 78.00 "], ["Butterfly Tenergy 05 FX", "$ 75.00 "], ["Donic Bluefire JP 03", "$ 54.00 "], ["Victas VS > 401", "$ 41.00 "], ["Stiga Magna TX", "$ 55.00 "], ["Butterfly Tenergy 64", "$ 70.00 "], ["Nittaku Renanos Hold", "$ 40.00 "], ["Gewo Hype KR Pro 47.5", "$ 30.00 "], ["Andro Rasant Powersponge", "$ 53.00 "], ["Butterfly Tenergy 05", "$ 72.00 "], ["Andro Hexer Powergrip SFX", "$ 41.00 "], ["Tibhar Aurus", "$ 40.00 "]], "hovertemplate": "Speed=%{x}<br>Spin=%{y}<br>Rubber=%{customdata[0]}<br>Estimated Price=%{customdata[1]}<br>color=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [4, 0, 4, 4, 4, 0, 4, 4, 4, 0, 4, 0, 2, 0, 2, 2, 0, 4, 0, 0, 0, 0, 4, 4, 0, 6, 4, 4, 0, 4, 2, 4, 6, 5, 2, 6, 0, 6, 6, 3, 6, 2, 4, 0, 2, 0, 4, 4, 2, 1, 5, 1, 4, 4, 0, 2, 5, 0, 4, 4, 0, 6, 4, 3, 6, 4, 0, 0, 0, 1, 2, 4, 2, 7, 0, 4, 0, 0, 4, 2, 4, 2, 6, 1, 4, 6, 2, 0, 2, 0, 6, 3, 0, 2, 0, 4, 6, 4, 6, 2], "coloraxis": "coloraxis", "symbol": "circle"}, "mode": "markers", "name": "", "showlegend": false, "type": "scatter", "x": [9.4, 8.9, 9.6, 9.4, 9.3, 9.1, 9.3, 9.3, 9.3, 9.2, 9.4, 9.1, 9.3, 9.2, 9.1, 9.2, 8.9, 9.3, 9.0, 8.9, 9.2, 9.1, 9.4, 9.4, 9.2, 8.8, 9.4, 9.5, 9.1, 9.4, 9.4, 9.3, 8.6, 7.5, 9.5, 8.8, 9.0, 8.8, 8.8, 8.0, 8.7, 9.1, 9.4, 9.1, 9.5, 8.9, 9.5, 9.3, 9.3, 8.6, 6.7, 8.3, 9.4, 9.4, 9.2, 9.5, 7.4, 9.2, 9.5, 9.5, 9.2, 8.7, 9.3, 7.8, 8.5, 9.4, 9.2, 9.0, 9.1, 8.2, 9.1, 9.4, 9.2, 8.7, 9.0, 9.4, 9.0, 8.9, 9.4, 9.2, 9.5, 9.3, 8.6, 8.2, 9.6, 8.7, 9.3, 9.0, 9.1, 9.1, 8.7, 8.0, 9.1, 9.3, 8.9, 9.4, 8.7, 9.3, 8.6, 9.1], "xaxis": "x", "y": [9.7, 9.6, 9.3, 9.4, 9.5, 9.5, 9.5, 9.4, 9.5, 9.4, 9.3, 9.5, 9.2, 9.4, 9.2, 9.0, 9.4, 9.5, 9.3, 9.5, 9.3, 9.4, 9.3, 9.4, 9.5, 9.5, 9.4, 9.3, 9.4, 9.5, 9.0, 9.4, 9.4, 9.1, 9.0, 9.4, 9.2, 9.5, 9.2, 9.3, 9.4, 9.1, 9.3, 9.3, 9.1, 9.3, 9.5, 9.3, 9.2, 8.8, 8.9, 9.0, 9.5, 9.5, 9.4, 9.1, 8.7, 9.5, 9.5, 9.4, 9.5, 9.5, 9.3, 9.4, 9.3, 9.5, 9.4, 9.4, 9.5, 8.8, 9.1, 9.5, 9.2, 8.1, 9.4, 9.3, 9.5, 9.3, 9.6, 9.2, 9.3, 9.2, 9.3, 8.5, 9.4, 9.3, 9.2, 9.3, 9.1, 9.3, 9.1, 9.5, 9.3, 8.8, 9.4, 9.4, 9.3, 9.4, 9.0, 9.2], "yaxis": "y"}],
                        {"coloraxis": {"colorbar": {"title": {"text": "color"}}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Speed vs Spin"}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "Speed"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "Spin"}}},
                        {"responsive": true}
                    )
                };            
                </script>
</div>
<h4 id="exploring-clusters">Exploring clusters</h4>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data[<span style="color:#0ff;font-weight:bold">&#39;cluster&#39;</span>] = kmeans.labels_
data.sort_values(by=<span style="color:#0ff;font-weight:bold">&#39;cluster&#39;</span>,ascending=False).head(<span style="color:#ff0;font-weight:bold">10</span>)
</code></pre></div><div style="overflow-x:auto;">
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
    .dataframe tbody tr th {
        vertical-align: top;
    }
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rubber</th>
      <th>Speed</th>
      <th>Spin</th>
      <th>Control</th>
      <th>Tacky</th>
      <th>Weight</th>
      <th>Sponge Hardness</th>
      <th>Gears</th>
      <th>Throw Angle</th>
      <th>Consistency</th>
      <th>Durable</th>
      <th>Overall</th>
      <th>Ratings</th>
      <th>Estimated Price</th>
      <th>cluster</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>73</th>
      <td>Haifu White Shark II (2) (Tuned)</td>
      <td>8.7</td>
      <td>8.1</td>
      <td>8.5</td>
      <td>2.2</td>
      <td>3.7</td>
      <td>2.8</td>
      <td>6.8</td>
      <td>3.5</td>
      <td>7.5</td>
      <td>5.5</td>
      <td>9.4</td>
      <td>13</td>
      <td>$ 26.00</td>
      <td>7</td>
    </tr>
    <tr>
      <th>64</th>
      <td>Nittaku Hurricane Pro III Turbo Blue</td>
      <td>8.5</td>
      <td>9.3</td>
      <td>8.6</td>
      <td>8.4</td>
      <td>8.2</td>
      <td>9.5</td>
      <td>9.4</td>
      <td>5.3</td>
      <td>8.9</td>
      <td>7.7</td>
      <td>9.4</td>
      <td>11</td>
      <td>$ 45.00</td>
      <td>6</td>
    </tr>
    <tr>
      <th>82</th>
      <td>Gewo Proton Neo 375</td>
      <td>8.6</td>
      <td>9.3</td>
      <td>9.4</td>
      <td>0.4</td>
      <td>2.4</td>
      <td>3.0</td>
      <td>7.5</td>
      <td>6.6</td>
      <td>10.0</td>
      <td>8.7</td>
      <td>9.4</td>
      <td>11</td>
      <td>$ 42.00</td>
      <td>6</td>
    </tr>
    <tr>
      <th>35</th>
      <td>TSP Ventus Spin</td>
      <td>8.8</td>
      <td>9.4</td>
      <td>9.2</td>
      <td>1.5</td>
      <td>2.8</td>
      <td>3.1</td>
      <td>8.5</td>
      <td>5.9</td>
      <td>9.6</td>
      <td>8.3</td>
      <td>9.4</td>
      <td>48</td>
      <td>$ 48.00</td>
      <td>6</td>
    </tr>
    <tr>
      <th>37</th>
      <td>Tibhar Grip-S</td>
      <td>8.8</td>
      <td>9.5</td>
      <td>8.8</td>
      <td>7.1</td>
      <td>6.5</td>
      <td>6.6</td>
      <td>8.6</td>
      <td>6.2</td>
      <td>8.8</td>
      <td>7.5</td>
      <td>9.4</td>
      <td>25</td>
      <td>$ 45.00</td>
      <td>6</td>
    </tr>
    <tr>
      <th>38</th>
      <td>DHS Gold Arc 3</td>
      <td>8.8</td>
      <td>9.2</td>
      <td>9.3</td>
      <td>5.3</td>
      <td>5.7</td>
      <td>6.6</td>
      <td>9.5</td>
      <td>5.3</td>
      <td>9.1</td>
      <td>8.5</td>
      <td>9.4</td>
      <td>14</td>
      <td>$ 39.00</td>
      <td>6</td>
    </tr>
    <tr>
      <th>40</th>
      <td>TSP Ventus Soft</td>
      <td>8.7</td>
      <td>9.4</td>
      <td>9.4</td>
      <td>1.5</td>
      <td>2.1</td>
      <td>1.4</td>
      <td>8.4</td>
      <td>6.5</td>
      <td>9.5</td>
      <td>8.1</td>
      <td>9.4</td>
      <td>26</td>
      <td>$ 42.00</td>
      <td>6</td>
    </tr>
    <tr>
      <th>25</th>
      <td>Adidas P7</td>
      <td>8.8</td>
      <td>9.5</td>
      <td>9.1</td>
      <td>2.1</td>
      <td>4.4</td>
      <td>6.5</td>
      <td>9.1</td>
      <td>6.1</td>
      <td>9.4</td>
      <td>8.4</td>
      <td>9.4</td>
      <td>79</td>
      <td>$ 50.00</td>
      <td>6</td>
    </tr>
    <tr>
      <th>61</th>
      <td>Tibhar Genius Sound</td>
      <td>8.7</td>
      <td>9.5</td>
      <td>8.9</td>
      <td>2.7</td>
      <td>3.5</td>
      <td>2.6</td>
      <td>7.3</td>
      <td>6.1</td>
      <td>9.4</td>
      <td>7.2</td>
      <td>9.4</td>
      <td>59</td>
      <td>$ 46.00</td>
      <td>6</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Gewo NanoFLEX FT40</td>
      <td>8.6</td>
      <td>9.4</td>
      <td>9.5</td>
      <td>1.2</td>
      <td>3.7</td>
      <td>2.9</td>
      <td>8.0</td>
      <td>7.5</td>
      <td>10.0</td>
      <td>8.7</td>
      <td>9.4</td>
      <td>20</td>
      <td>$ 60.00</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div>
<h2 id="dimensionality-reduction-with-pca">Dimensionality Reduction with PCA</h2>
<p>Clustering by Speed/Spin is good, but we&rsquo;re missing a lot of information like Tackiness, Weight, Gears and others. We&rsquo;ll now use Principal Component Analysis (PCA) to perform dimensionality reduction with the intention of exploring the data in 2D.</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">%time
data2 = pd.read_csv(<span style="color:#0ff;font-weight:bold">&#39;top100 rubbers by overall score.csv&#39;</span>)
data2[<span style="color:#0ff;font-weight:bold">&#34;Rubber&#34;</span>]=data2[<span style="color:#0ff;font-weight:bold">&#39;Rubber&#39;</span>].str.strip()
data2.index = data2[<span style="color:#0ff;font-weight:bold">&#39;Rubber&#39;</span>]
data_pca = data2.drop(columns=[<span style="color:#0ff;font-weight:bold">&#39;Rubber&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;Ratings&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;Estimated Price&#39;</span>]).copy()
</code></pre></div><pre><code>CPU times: user 6 µs, sys: 0 ns, total: 6 µs
Wall time: 11.4 µs
</code></pre>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">%time
x = data_pca.values
x = StandardScaler().fit_transform(x)
</code></pre></div><pre><code>CPU times: user 4 µs, sys: 0 ns, total: 4 µs
Wall time: 6.91 µs
</code></pre>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">%time
pca = PCA(n_components=<span style="color:#ff0;font-weight:bold">2</span>, random_state=<span style="color:#ff0;font-weight:bold">2020</span>)
principalComponents = pca.fit_transform(x)
principalDf = pd.DataFrame(data = principalComponents
             , columns = [<span style="color:#0ff;font-weight:bold">&#39;Component_1&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;Component_2&#39;</span>], index=data_pca.index)
</code></pre></div><pre><code>CPU times: user 6 µs, sys: 1 µs, total: 7 µs
Wall time: 11.2 µs
</code></pre>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">principalDf.sample(<span style="color:#ff0;font-weight:bold">5</span>)
</code></pre></div><div style="overflow-x:auto;">
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
    .dataframe tbody tr th {
        vertical-align: top;
    }
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Component_1</th>
      <th>Component_2</th>
    </tr>
    <tr>
      <th>Rubber</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Andro Rasant Turbo</th>
      <td>-1.203339</td>
      <td>0.666231</td>
    </tr>
    <tr>
      <th>Gewo Proton Neo 325</th>
      <td>4.443144</td>
      <td>-2.770060</td>
    </tr>
    <tr>
      <th>Adidas P7</th>
      <td>-0.406847</td>
      <td>-0.847028</td>
    </tr>
    <tr>
      <th>Andro Rasanter R47</th>
      <td>-0.885781</td>
      <td>0.296568</td>
    </tr>
    <tr>
      <th>Tibhar Rapid X-Press</th>
      <td>1.257376</td>
      <td>5.263687</td>
    </tr>
  </tbody>
</table>
</div>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">principalDf = principalDf.join(data2[<span style="color:#0ff;font-weight:bold">&#39;Estimated Price&#39;</span>])
principalDf.sample(<span style="color:#ff0;font-weight:bold">5</span>)
</code></pre></div><div style="overflow-x:auto;">
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Component_1</th>
      <th>Component_2</th>
      <th>Estimated Price</th>
    </tr>
    <tr>
      <th>Rubber</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Tibhar 5Q Update</th>
      <td>-0.080693</td>
      <td>-0.542226</td>
      <td>$ 58.00</td>
    </tr>
    <tr>
      <th>Gewo NanoFLEX FT45</th>
      <td>0.366319</td>
      <td>-1.396074</td>
      <td>$ 45.00</td>
    </tr>
    <tr>
      <th>Nittaku Renanos Hold</th>
      <td>0.077362</td>
      <td>0.392463</td>
      <td>$ 40.00</td>
    </tr>
    <tr>
      <th>Victas VS &gt; 401</th>
      <td>-0.806909</td>
      <td>-0.272544</td>
      <td>$ 41.00</td>
    </tr>
    <tr>
      <th>Butterfly Tenergy 05</th>
      <td>-1.044239</td>
      <td>1.074280</td>
      <td>$ 72.00</td>
    </tr>
  </tbody>
</table>
</div>
<p>Now we have columns Factor 1 and Factor 2 that we can use for plotting purposes. I added price for an extra point of comparison.</p>
<h2 id="clustering-with-principal-components">Clustering with Principal Components</h2>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">kmeans = cluster.KMeans(<span style="color:#ff0;font-weight:bold">7</span>)
kmeans.fit(principalDf[[<span style="color:#0ff;font-weight:bold">&#39;Component_1&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;Component_1&#39;</span>]])
labels = kmeans.labels_
principalDf[<span style="color:#0ff;font-weight:bold">&#39;Rubber&#39;</span>] = principalDf.index

fig = px.scatter(principalDf, x=<span style="color:#0ff;font-weight:bold">&#34;Component_1&#34;</span>, y=<span style="color:#0ff;font-weight:bold">&#34;Component_2&#34;</span>,
                 color=labels, hover_data=[<span style="color:#0ff;font-weight:bold">&#39;Rubber&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;Estimated Price&#39;</span>])
fig.show()
</code></pre></div><div>
<script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<div id="96134dc7-69f0-4aa5-9e01-e1a20a1b1d80" class="plotly-graph-div" style="height:100%; width:100%;"></div>
<script type="text/javascript">
  window.PLOTLYENV=window.PLOTLYENV || {};    
  if (document.getElementById("96134dc7-69f0-4aa5-9e01-e1a20a1b1d80")) {
      Plotly.newPlot(
          '96134dc7-69f0-4aa5-9e01-e1a20a1b1d80',
          [{"customdata": [["Donic Bluestorm Z1 Turbo", "$ 52.00 "], ["Tibhar Aurus TC-1", "$ 28.00 "], ["Xiom Omega VII Tour", "$ 74.00 "], ["DHS Gold Arc 8", "$ 46.00 "], ["Adidas Tenzone Ultra", "$ 50.00 "], ["Andro Rasant Grip", "$ 53.00 "], ["Andro Hexer Powergrip", "$ 44.00 "], ["Gewo Flexxon", "$ 58.00 "], ["DHS Hurricane 3 National (Blue Sponge)", "$ 92.00 "], ["Andro Rasant", "$ 57.00 "], ["Butterfly Dignics 80", "$ 100.00 "], ["Victas VJ > 07 Stiff", "$ 42.00 "], ["Tibhar Nianmor", "$ 55.00 "], ["Xiom Sigma II Euro", "$ 45.00 "], ["Xiom Vega X", "$ 35.00 "], ["Xiom Omega IV Asia", "$ 49.00 "], ["Victas V > 01 Limber", "$ 42.00 "], ["TSP Super Ventus", "$ 40.00 "], ["Yasaka Rakza 7", "$ 38.00 "], ["Victas VS > 402 Double Extra", "$ 35.00 "], ["JOOLA MAXXX-P", "$ 46.00 "], ["Gewo Proton Neo 450", "$ 40.00 "], ["Yasaka Rakza 9", "$ 53.00 "], ["Gewo NanoFlex FT48", "$ 55.00 "], ["Tibhar Evolution MX-S", "$ 50.00 "], ["Adidas P7", "$ 50.00 "], ["Andro Rasanter R50", "$ 50.00 "], ["Tibhar Evolution MX-P 50", "$ 49.00 "], ["Donic Acuda Blue P2", "$ 54.00 "], ["Andro Rasant PowerGrip", "$ 56.00 "], ["Xiom Omega 3 Asian", "$ 50.00 "], ["Butterfly Tenergy 80", "$ 68.00 "], ["Gewo NanoFLEX FT40", "$ 60.00 "], ["Gewo Neoflexx EFT 45", "$ 0.00 "], ["Killerspin Fortissimo", "$ 52.00 "], ["TSP Ventus Spin", "$ 48.00 "], ["Butterfly Tenergy 25 FX", "$ 78.00 "], ["Tibhar Grip-S", "$ 45.00 "], ["DHS Gold Arc 3", "$ 39.00 "], ["Gewo Proton Neo 325", "$ 42.00 "], ["TSP Ventus Soft", "$ 42.00 "], ["Yasaka Mark V HPS", "$ 45.00 "], ["JOOLA Maxxx 500", "$ 41.00 "], ["Yasaka Valmo", "$ 45.00 "], ["Andro Rasant Turbo", "$ 43.00 "], ["DHS Gold Arc 5", "$ 25.00 "], ["Tibhar Aurus Prime", "$ 44.00 "], ["Xiom Sigma 1 Euro", "$ 85.00 "], ["Donic Acuda Blue P1", "$ 44.00 "], ["Andro Plasma Women", "$ 37.00 "], ["Gewo Neoflexx EFT 40", "$ 0.00 "], ["Tibhar Grip-S Europe Soft", "$ 45.00 "], ["Gewo Nexxus EL Pro 50 Hard", "$ 49.00 "], ["Xiom Omega V Asia", "$ 40.00 "], ["JOOLA Rhyzm-P", "$ 40.00 "], ["Tibhar 1Q XD", "$ 55.00 "], ["Gewo Mega Flex Control", "$ 35.00 "], ["Victas V > 01 Stiff", "$ 51.00 "], ["Donic Bluefire M1 Turbo", "$ 54.00 "], ["Gewo Nexxus XT Pro 50 Hard", "$ 60.00 "], ["DHS Hurricane 3 Provincial (No. 22 Blue Sponge)", "$ 65.00 "], ["Tibhar Genius Sound", "$ 46.00 "], ["Xiom Omega IV Pro", "$ 60.00 "], ["Gewo Neoflexx EFT 48", "$ 32.00 "], ["Nittaku Hurricane Pro III Turbo Blue", "$ 45.00 "], ["Gewo Proton Neo 475", "$ 0.00 "], ["DHS NEO Hurricane 3 National (Blue Sponge)", "$ 90.00 "], ["Nittaku Fastarc G-1", "$ 44.00 "], ["Gewo NanoFLEX FT45", "$ 45.00 "], ["Donic J.O. Waldner", "$ 37.00 "], ["Tibhar 5Q Update", "$ 58.00 "], ["Andro Rasanter R53", "$ 45.00 "], ["Tibhar Rapid X-Press", "$ 44.00 "], ["Haifu White Shark II (2) (Tuned)", "$ 26.00 "], ["Xiom Omega IV Euro", "$ 50.00 "], ["Andro Rasanter R47", "$ 47.00 "], ["Andro Rasanter R42", "$ 38.00 "], ["Tibhar 5Q", "$ 53.00 "], ["TSP Regalis Red", "$ 40.00 "], ["Tibhar Evolution EL-P", "$ 58.00 "], ["Tibhar Evolution MX-P", "$ 33.00 "], ["Palio Aeolus", "$ 45.00 "], ["Gewo Proton Neo 375", "$ 42.00 "], ["Yasaka Mark V GPS Soft", "$ 35.00 "], ["Xiom Omega VII Asia", "$ 53.00 "], ["Tibhar Quantum S", "$ 65.00 "], ["Yasaka Xtend HS", "$ 44.00 "], ["Gewo Nexxus EL Pro 43", "$ 45.00 "], ["Butterfly Tenergy 25", "$ 78.00 "], ["Butterfly Tenergy 05 FX", "$ 75.00 "], ["Donic Bluefire JP 03", "$ 54.00 "], ["Victas VS > 401", "$ 41.00 "], ["Stiga Magna TX", "$ 55.00 "], ["Butterfly Tenergy 64", "$ 70.00 "], ["Nittaku Renanos Hold", "$ 40.00 "], ["Gewo Hype KR Pro 47.5", "$ 30.00 "], ["Andro Rasant Powersponge", "$ 53.00 "], ["Butterfly Tenergy 05", "$ 72.00 "], ["Andro Hexer Powergrip SFX", "$ 41.00 "], ["Tibhar Aurus", "$ 40.00 "]], "hovertemplate": "Component_1=%{x}<br>Component_2=%{y}<br>Rubber=%{customdata[0]}<br>Estimated Price=%{customdata[1]}<br>color=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [2, 0, 2, 5, 5, 0, 5, 0, 2, 0, 0, 4, 5, 0, 0, 4, 4, 5, 0, 5, 4, 4, 0, 0, 5, 0, 5, 2, 6, 5, 6, 0, 6, 3, 4, 6, 4, 0, 0, 3, 1, 4, 5, 0, 5, 4, 5, 0, 0, 3, 3, 6, 0, 5, 0, 5, 3, 4, 5, 0, 5, 1, 0, 6, 2, 0, 5, 0, 4, 6, 4, 2, 6, 3, 4, 0, 6, 4, 4, 4, 5, 0, 1, 1, 5, 4, 1, 6, 0, 4, 1, 0, 4, 4, 4, 4, 6, 0, 6, 4], "coloraxis": "coloraxis", "symbol": "circle"}, "mode": "markers", "name": "", "showlegend": false, "type": "scatter", "x": [-3.310789245760404, -0.6767167261548453, -2.91196252202264, -1.5544816644350363, -1.572895401064324, -0.9280351761289594, -1.4985341077754846, -0.4517333486681807, -2.801234320037969, -0.8978723836965038, -1.1298461023373105, -0.05904568648967495, -1.1825525551765959, -0.9479900410346533, -0.7367717068207984, -0.13125894040075475, 0.7521759186130109, -1.5288764573346483, -0.277186535238734, -1.1996544399733675, 0.580120807423294, 0.6853710028538104, -0.4529712219238386, -0.7690681285806615, -1.5104823405699368, -0.40684694067133154, -1.9624652335861041, -2.3874266444657444, 0.9529464529982329, -1.9929650725910883, 1.1003956200975296, -0.576961433268457, 1.5420880748050876, 4.069318005017382, 0.5202864944698313, 1.455194782350325, 0.478413435004243, -1.0925688903913209, -0.7009223241653879, 4.443144209128303, 2.3393556314718684, 0.8228663792012357, -1.2574404502972096, -0.4563671086064959, -1.2033392322293237, 0.5954571262038529, -1.3187251406589822, -0.6452881421506198, -0.29491202479668455, 3.732092973662484, 6.140927122699615, 0.8775692575383149, -0.9021657322226101, -1.5852188167990102, -0.3634192751735145, -1.3044499270298209, 4.7488393432143035, 0.014634928765805466, -1.9335791588365376, -0.9762676549825938, -1.9130605650661754, 1.8661890082089878, -0.883997124200443, 1.4338134880975952, -2.408301643278138, -0.7591465029604322, -1.6146636540771646, -0.9946364733845604, 0.36631940657671236, 1.499534956489148, -0.08069323686322734, -2.8167370189267174, 1.2573759381699918, 4.728139699137527, 0.2553495067022242, -0.8857805111669406, 0.9365845296586454, 0.3992633987114118, 0.10095811486016212, 0.001077155045120043, -1.222334367870873, -0.9308645198878677, 2.3874277272855426, 2.586909126038654, -1.7990348889193228, 0.744963701496736, 2.7902411108334246, 1.214484298595456, -0.5210985745629699, 0.49126560239459593, 2.246247373008793, -0.8069085514987009, 0.5639714034275768, 0.6585039507306268, 0.07736193668425315, 0.32292019901875696, 1.7765720608490412, -1.0442386505052252, 1.6232737657757759, 0.39283951440162884], "xaxis": "x", "y": [-0.19780581702821873, -2.6607720563881165, 0.8282692857305783, -1.1357729105417989, -1.031814974241477, -0.8457200530617398, -1.6709963360142102, 0.03214283984801209, 0.7230533641701151, -0.7100718132880698, -0.6009796404212685, -2.0262607705103965, 2.0558531867450642, -1.0077226816920053, -0.10663666891502231, 0.6970181694505148, -1.982310146161251, -1.745144203858497, 0.2664735720019667, -1.5921121460358771, -0.8124674001254362, -2.209885009998789, 0.06040286813476486, -0.5848978614596728, 0.5762218032530387, -0.8470277166027932, 0.6733628278656395, 0.29308031264763007, 0.385298073226298, -0.10684215097016184, 2.1676577195574325, 0.10069377025381691, -2.6912475689175115, -0.6608118894806648, 0.04811823269524445, -1.5296309011982105, 0.25834922613287387, 2.0657530181270127, 0.47760193110018845, -2.7700595048283603, -1.967634196154454, 1.1738887622009022, 0.4310269887697768, -0.3790068787849962, 0.6662314192463293, -0.025409098895838724, 0.3732915516152719, -0.8174673104233454, 0.8002730891952614, -2.0762812113170788, 0.3690035687549117, 2.127313351479552, -1.618680003378458, -0.8887748993744014, -1.183118634247602, 1.955738487747656, 0.0735910578686677, -2.0401665891591425, 1.9018944463728684, -1.4033591581207638, 0.8201199869729683, -0.01961194890694434, 0.3657936756795494, 0.4083240207880018, 3.3511236727101226, -2.035776726698869, 2.058897661050622, -0.7260620578696769, -1.3960743182773891, 1.665750325601436, -0.5422255843274012, -0.5615326563695134, 5.2636871142966095, 5.3666135410224, 0.21735969156755344, 0.2965678723968059, -0.89890514748081, -0.12154230027508946, -2.0920266089993014, 0.06893837640451245, 1.650197944476995, -0.050219388594810434, -2.5918930114538203, 3.639757501210812, 0.4944808378911227, -0.7300214722807242, 1.580569000734418, -1.1565172103328838, 1.0233949390132377, 0.6870176763053537, 0.8144159072681773, -0.2725435299330408, -0.4616811542724276, 1.9202892164518548, 0.392462572617811, 1.1472833456899885, -0.835599682259317, 1.0742795018612652, -0.20976107049861722, 0.7399547642232625], "yaxis": "y"}],{"coloraxis": {"colorbar": {"title": {"text": "color"}}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "legend": {"tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "Component_1"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "Component_2"}}},
          {"responsive": true}
      )
  };
  </script>
  </div>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#007f7f">#Exploring clusters</span>
principalDf[<span style="color:#0ff;font-weight:bold">&#39;Group&#39;</span>] = kmeans.labels_
principalDf.sort_values(by=[<span style="color:#0ff;font-weight:bold">&#39;Group&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;Estimated Price&#39;</span>],ascending=False).head(<span style="color:#ff0;font-weight:bold">10</span>)
</code></pre></div><div style="overflow-x:auto;">
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Component_1</th>
      <th>Component_2</th>
      <th>Estimated Price</th>
      <th>Rubber</th>
      <th>Group</th>
    </tr>
    <tr>
      <th>Rubber</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Gewo NanoFLEX FT40</th>
      <td>1.542088</td>
      <td>-2.691248</td>
      <td>$ 60.00</td>
      <td>Gewo NanoFLEX FT40</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Donic Acuda Blue P2</th>
      <td>0.952946</td>
      <td>0.385298</td>
      <td>$ 54.00</td>
      <td>Donic Acuda Blue P2</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Andro Rasant Powersponge</th>
      <td>1.776572</td>
      <td>-0.835600</td>
      <td>$ 53.00</td>
      <td>Andro Rasant Powersponge</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Xiom Omega 3 Asian</th>
      <td>1.100396</td>
      <td>2.167658</td>
      <td>$ 50.00</td>
      <td>Xiom Omega 3 Asian</td>
      <td>6</td>
    </tr>
    <tr>
      <th>TSP Ventus Spin</th>
      <td>1.455195</td>
      <td>-1.529631</td>
      <td>$ 48.00</td>
      <td>TSP Ventus Spin</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Tibhar Grip-S Europe Soft</th>
      <td>0.877569</td>
      <td>2.127313</td>
      <td>$ 45.00</td>
      <td>Tibhar Grip-S Europe Soft</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Gewo Nexxus EL Pro 43</th>
      <td>1.214484</td>
      <td>-1.156517</td>
      <td>$ 45.00</td>
      <td>Gewo Nexxus EL Pro 43</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Tibhar Rapid X-Press</th>
      <td>1.257376</td>
      <td>5.263687</td>
      <td>$ 44.00</td>
      <td>Tibhar Rapid X-Press</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Andro Hexer Powergrip SFX</th>
      <td>1.623274</td>
      <td>-0.209761</td>
      <td>$ 41.00</td>
      <td>Andro Hexer Powergrip SFX</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Andro Rasanter R42</th>
      <td>0.936585</td>
      <td>-0.898905</td>
      <td>$ 38.00</td>
      <td>Andro Rasanter R42</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#007f7f"># Instantiate the KElbowVisualizer with the number of clusters and the metric </span>
visualizer = KElbowVisualizer(kmeans, k=(<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">15</span>) ,timings=False)

<span style="color:#007f7f"># Fit the data and visualize</span>
visualizer.fit(x)    
visualizer.poof() 
</code></pre></div><p><img src="https://www.matiascortes.com/images/Rubber_Clustering_files/output_21_0.png" alt="png"></p>
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fbe8df7a650&gt;
</code></pre>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">principalDf = principalDf.reset_index(drop=True)
principalDf[<span style="color:#0ff;font-weight:bold">&#39;Rubber&#39;</span>] = principalDf[<span style="color:#0ff;font-weight:bold">&#39;Rubber&#39;</span>].str.strip() <span style="color:#007f7f">#Fixing whitespaces</span>
</code></pre></div><h4 id="k-nearest-neighbors">K-Nearest Neighbors</h4>
<p>Now we build our unsupervised KNN model to build our recommender</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">%time
knn_model = NearestNeighbors()
knn_model.fit(principalDf[[<span style="color:#0ff;font-weight:bold">&#39;Component_1&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;Component_2&#39;</span>]].values)
</code></pre></div><pre><code>CPU times: user 6 µs, sys: 0 ns, total: 6 µs
Wall time: 12.2 µs





NearestNeighbors(algorithm='auto', leaf_size=30, metric='minkowski',
                 metric_params=None, n_jobs=None, n_neighbors=5, p=2,
                 radius=1.0)
</code></pre>
<h4 id="exploring-similar-rubbers-with-knn">Exploring Similar Rubbers with KNN</h4>
<p>At this point we have a model that maps our 2D space we created with PCA. KNN allow us to access the closest points given an initial one and since we condensed all the rubber characteristics into 2 features, our model effectively gives us the most similar rubbers given an initial one. Now we can use this to recommend similar rubbers! Let&rsquo;s try with the famouse Butterfly Tenergy 05</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">rubber_name = <span style="color:#0ff;font-weight:bold">&#39;Butterfly Tenergy 05&#39;</span> <span style="color:#007f7f">#Rubber to explore</span>
rubber_point = principalDf[principalDf[<span style="color:#0ff;font-weight:bold">&#39;Rubber&#39;</span>]==rubber_name][[<span style="color:#0ff;font-weight:bold">&#39;Component_1&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;Component_2&#39;</span>]].values
</code></pre></div><div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">%time
<span style="color:#007f7f">#Getting Neighbors</span>
kneighbors = knn_model.kneighbors(rubber_point,n_neighbors=<span style="color:#ff0;font-weight:bold">11</span>)
kneighbors <span style="color:#007f7f">#Note how it gives us the distance and an index list sorted by it</span>
</code></pre></div><pre><code>CPU times: user 9 µs, sys: 1e+03 ns, total: 10 µs
Wall time: 17.6 µs





(array([[0.        , 0.4379683 , 0.52560896, 0.60282679, 0.67766423,
         0.68223504, 0.68839685, 0.72638111, 0.75281269, 0.79369034,
         0.79785331]]),
 array([[97, 44, 88, 80, 42, 24, 38, 62, 46, 75, 48]]))
</code></pre>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#007f7f">#Creating a mapping to sort the data based on the distance to the coordinates of interest.</span>
sorter_temp = kneighbors[<span style="color:#ff0;font-weight:bold">1</span>][<span style="color:#ff0;font-weight:bold">0</span>]
sorterIndex = <span style="color:#fff;font-weight:bold">dict</span>(<span style="color:#fff;font-weight:bold">zip</span>(sorter_temp,<span style="color:#fff;font-weight:bold">range</span>(<span style="color:#fff;font-weight:bold">len</span>(sorter_temp))))
</code></pre></div><div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">knn_df_sorted = principalDf[principalDf.index.isin(sorter_temp)].copy() <span style="color:#007f7f">#Matching the kneighbors to get the rest of the data</span>
knn_df_sorted[<span style="color:#0ff;font-weight:bold">&#39;Similarity Rank&#39;</span>] = knn_df_sorted.index.map(sorterIndex)
</code></pre></div><div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">similar_rubbers = knn_df_sorted.join(data, rsuffix=<span style="color:#0ff;font-weight:bold">&#39;_r&#39;</span>).sort_values(by=[<span style="color:#0ff;font-weight:bold">&#39;Similarity Rank&#39;</span>])
similar_rubbers.drop(columns=[<span style="color:#0ff;font-weight:bold">&#39;Component_1&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;Component_2&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;Rubber_r&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;Estimated Price_r&#39;</span>], inplace=True)
</code></pre></div><div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">similar_rubbers
</code></pre></div><div style="overflow-x:auto;">
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Estimated Price</th>
      <th>Rubber</th>
      <th>Group</th>
      <th>Similarity Rank</th>
      <th>Speed</th>
      <th>Spin</th>
      <th>Control</th>
      <th>Tacky</th>
      <th>Weight</th>
      <th>Sponge Hardness</th>
      <th>Gears</th>
      <th>Throw Angle</th>
      <th>Consistency</th>
      <th>Durable</th>
      <th>Overall</th>
      <th>Ratings</th>
      <th>cluster</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>97</th>
      <td>$ 72.00</td>
      <td>Butterfly Tenergy 05</td>
      <td>0</td>
      <td>0</td>
      <td>9.3</td>
      <td>9.4</td>
      <td>8.4</td>
      <td>2.4</td>
      <td>6.6</td>
      <td>6.2</td>
      <td>8.8</td>
      <td>7.5</td>
      <td>9.3</td>
      <td>7.9</td>
      <td>9.3</td>
      <td>325</td>
      <td>4</td>
    </tr>
    <tr>
      <th>44</th>
      <td>$ 43.00</td>
      <td>Andro Rasant Turbo</td>
      <td>5</td>
      <td>1</td>
      <td>9.5</td>
      <td>9.1</td>
      <td>8.4</td>
      <td>1.4</td>
      <td>6.1</td>
      <td>7.0</td>
      <td>8.9</td>
      <td>5.1</td>
      <td>9.4</td>
      <td>9.0</td>
      <td>9.4</td>
      <td>38</td>
      <td>2</td>
    </tr>
    <tr>
      <th>88</th>
      <td>$ 78.00</td>
      <td>Butterfly Tenergy 25</td>
      <td>0</td>
      <td>2</td>
      <td>9.1</td>
      <td>9.1</td>
      <td>8.7</td>
      <td>2.4</td>
      <td>6.9</td>
      <td>6.7</td>
      <td>8.5</td>
      <td>4.2</td>
      <td>10.0</td>
      <td>8.2</td>
      <td>9.3</td>
      <td>70</td>
      <td>2</td>
    </tr>
    <tr>
      <th>80</th>
      <td>$ 33.00</td>
      <td>Tibhar Evolution MX-P</td>
      <td>5</td>
      <td>3</td>
      <td>9.5</td>
      <td>9.3</td>
      <td>8.6</td>
      <td>2.3</td>
      <td>6.5</td>
      <td>7.0</td>
      <td>8.6</td>
      <td>5.7</td>
      <td>9.1</td>
      <td>7.2</td>
      <td>9.4</td>
      <td>111</td>
      <td>4</td>
    </tr>
    <tr>
      <th>42</th>
      <td>$ 41.00</td>
      <td>JOOLA Maxxx 500</td>
      <td>5</td>
      <td>4</td>
      <td>9.4</td>
      <td>9.3</td>
      <td>9.2</td>
      <td>2.5</td>
      <td>6.4</td>
      <td>8.4</td>
      <td>8.3</td>
      <td>7.3</td>
      <td>9.2</td>
      <td>7.5</td>
      <td>9.4</td>
      <td>16</td>
      <td>4</td>
    </tr>
    <tr>
      <th>24</th>
      <td>$ 50.00</td>
      <td>Tibhar Evolution MX-S</td>
      <td>5</td>
      <td>5</td>
      <td>9.2</td>
      <td>9.5</td>
      <td>9.1</td>
      <td>2.4</td>
      <td>6.7</td>
      <td>7.7</td>
      <td>8.9</td>
      <td>5.4</td>
      <td>9.1</td>
      <td>7.5</td>
      <td>9.4</td>
      <td>84</td>
      <td>0</td>
    </tr>
    <tr>
      <th>38</th>
      <td>$ 39.00</td>
      <td>DHS Gold Arc 3</td>
      <td>0</td>
      <td>6</td>
      <td>8.8</td>
      <td>9.2</td>
      <td>9.3</td>
      <td>5.3</td>
      <td>5.7</td>
      <td>6.6</td>
      <td>9.5</td>
      <td>5.3</td>
      <td>9.1</td>
      <td>8.5</td>
      <td>9.4</td>
      <td>14</td>
      <td>6</td>
    </tr>
    <tr>
      <th>62</th>
      <td>$ 60.00</td>
      <td>Xiom Omega IV Pro</td>
      <td>0</td>
      <td>7</td>
      <td>9.3</td>
      <td>9.3</td>
      <td>8.8</td>
      <td>2.4</td>
      <td>5.5</td>
      <td>6.8</td>
      <td>8.8</td>
      <td>4.8</td>
      <td>9.3</td>
      <td>8.5</td>
      <td>9.4</td>
      <td>80</td>
      <td>4</td>
    </tr>
    <tr>
      <th>46</th>
      <td>$ 44.00</td>
      <td>Tibhar Aurus Prime</td>
      <td>5</td>
      <td>8</td>
      <td>9.5</td>
      <td>9.5</td>
      <td>8.9</td>
      <td>2.6</td>
      <td>5.5</td>
      <td>7.0</td>
      <td>9.0</td>
      <td>6.6</td>
      <td>8.6</td>
      <td>8.2</td>
      <td>9.4</td>
      <td>27</td>
      <td>4</td>
    </tr>
    <tr>
      <th>75</th>
      <td>$ 47.00</td>
      <td>Andro Rasanter R47</td>
      <td>0</td>
      <td>9</td>
      <td>9.4</td>
      <td>9.3</td>
      <td>9.0</td>
      <td>1.8</td>
      <td>5.7</td>
      <td>6.4</td>
      <td>9.0</td>
      <td>6.1</td>
      <td>9.4</td>
      <td>7.5</td>
      <td>9.4</td>
      <td>71</td>
      <td>4</td>
    </tr>
    <tr>
      <th>48</th>
      <td>$ 44.00</td>
      <td>Donic Acuda Blue P1</td>
      <td>0</td>
      <td>10</td>
      <td>9.3</td>
      <td>9.2</td>
      <td>8.9</td>
      <td>2.8</td>
      <td>4.9</td>
      <td>6.2</td>
      <td>8.7</td>
      <td>5.9</td>
      <td>9.4</td>
      <td>7.4</td>
      <td>9.4</td>
      <td>24</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
<p>Here we can see some results after testing the model with Tenergy 05. Overall the recomendations make sense, after a quick google search many of the rubbers shows up as good Tenergy alternatives like Tibhar MX-P or Xiom Omega IV Pro.</p>
<h3 id="conclusion">Conclusion</h3>
<p>It&rsquo;s always very nice to see the effectivenses of traditional ML tools like PCA and KNN. Working on this is also a good reminder of the importance of knowing your data, it was easy for me think about what next step made sense given the data and that intuition was useful to evaluate the final results as well.</p>
<p>The next step on this project is to build an actual tool people can use to explore the data. I&rsquo;m looking forward to it. Stay tunned.</p>

      </div>


      <footer>
        


        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yourdiscussshortname" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
        
      </footer>
    </article>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js" id="MathJax-script"></script>
  <script>
    MathJax = {
      tex: {
        inlineMath: [
          ['$', '$'], ['\\(', '\\)']
        ],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  </script>
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
    
      
        © 2017 - 2021
      
       Matias Cortes 
    
    
       · 
      Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
    
  </section>
</footer>

    </main>


  </body>

</html>
